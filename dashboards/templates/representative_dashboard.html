{% extends 'base.html' %}

{% load static %}

{% block title %}Dashboard Representante{% endblock %}
{% block header_title %}Dashboard de {{ banda.nombre }}{% endblock %}

{% block esxtra_styles %}
    <link rel="stylesheet" href="{% static 'accounts/css/representative_dashboard_styles.css' %}">
{% endblock %} 

{% block content %}
<h2>Bienvenido, {{ request.user.username }}</h2>

<h3>Banda: {{ banda.nombre }}</h3>
<p>Biografía: {{ banda.biografia }}</p>
<p>Estilo(s) musical(es): 
    {% for estilo in banda.estilos_musicales.all %}
        {{ estilo.nombre }}{% if not forloop.last %}, {% endif %}
    {% endfor %}
</p>
<img src="{{ banda.imagen.url }}" alt="Imagen de la banda" style="max-width: 200px;">

<h3>Agregar Integrante</h3>
<form method="post">
    {% csrf_token %}
    <input type="hidden" name="add_integrante">
    <label>Rol:</label>
    <input type="text" name="rol" required>
    <label>Instrumentos favoritos:</label>
    <input type="text" name="instrumentos_favoritos" required>
    <label>Fecha de ingreso:</label>
    <input type="date" name="fecha_ingreso" required>
    <label>Género preferido:</label>
    <input type="text" name="genero_preferido">
    <label>Descripción personal:</label>
    <textarea name="descripcion_personal"></textarea>
    <button type="submit">Agregar</button>
</form>

<h3>Integrantes</h3>
<ul>
    {% for integrante in integrantes %}
    <li>{{ integrante.rol }} - {{ integrante.instrumentos_favoritos }}</li>
    {% endfor %}
</ul>

<h3>Subir Demo</h3>
<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <input type="hidden" name="upload_demo">
    <label>Archivo Demo:</label>
    <input type="file" name="demos">
    <button type="submit">Subir</button>
</form>

<h3>Subir Imagen</h3>
<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <input type="hidden" name="upload_imagen">
    <label>Imagen:</label>
    <input type="file" name="imagen">
    <button type="submit">Subir</button>
</form>
{% endblock %}
